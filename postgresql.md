# PostgreSQL

## Install

- `choco install postgresql` ...autogenerated password --> see output
- `choco install postgresql --params '/Password:test /Port:5433' --ia '--enable-components server,commandlinetools'`
- `choco install pgadmin4`

## Setup User

[Chocolatey Software | PostgreSQL 14.4.1](https://community.chocolatey.org/packages/postgresql "â€Œ")

- If you didn't specify password during setup and didn't record the generated one, you need manually reset it using the following steps:
  - Open file `data\pg_hba.conf` in PostgreSql installation directory
  - Change `METHOD` to `trust` and restart service with `Restart-Service postgresql*`
  - Execute `"alter user postgres with password 'password';" | psql -Upostgres`
  - Revert back `data\pg_hba.conf` to METHOD `md5` and restart service

## Use CLI

``` shell
psql -V
psql -U postgres
```

or Linux:

```shell
sudo -u postgres psql
```

to quit:

```shell
postgres=# \q
```

Show databases, connect to database and show tables:

```shell
postgres=# \l
postgres=# \c <dbName>
postgres=# \dt
```

Show full history, show useres

```shell
postgres=# \d
postgres=# \du
```

Query on table of current connected db.

```shell
postgres=# SELECT * FROM "<tableName>";
```

Show data storage location

```shell
postgres=# show data_directory; 
```

Connect to Postgresql DOCKER Container

```shell
docker exec -it <postgres-container> /bin/sh
```
